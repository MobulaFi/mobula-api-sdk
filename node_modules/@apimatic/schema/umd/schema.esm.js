function e(e){const t=[];for(let n=0;n<e.length;n++){const a=e[n];t.push([n,a])}return t}function t(e){const t=Object.keys(e);let n=t.length;const a=new Array(n);for(;n--;)a[n]=[t[n],e[t[n]]];return a}function n(e){return"string"==typeof e?`"${e.replace(/"/g,'"')}"`:`${e}`}function a(e){return e}function r(e){return(t,n)=>e(t)?[]:n.fail()}function o(e){return t={type:()=>e.type,validateBeforeMap:e.validate,validateBeforeUnmap:e.validate,map:e.map,unmap:e.map},Object.assign(Object.assign({},t),{validateBeforeMapXml:t.validateBeforeUnmap,mapXml:t.map,unmapXml:t.unmap});var t}function l(e){return"number"==typeof e||"string"==typeof e&&!isNaN(e)}function p(e){return"number"==typeof e?e:+e}function i(e){return"bigint"==typeof e?e:BigInt(e)}function u(e,t){const n=new Set(t),a={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&!n.has(t)&&(a[t]=e[t]);return a}function m(e){return-1!==e.indexOf(" ")?n(e):e}function c(e,t){const n=y(v(e,t.type())),a=t.validateBeforeMap(e,n);return 0===a.length?{errors:!1,result:t.map(e,n)}:{errors:a}}function f(e,t){const n=y(v(e,t.type())),a=t.validateBeforeUnmap(e,n);return 0===a.length?{errors:!1,result:t.unmap(e,n)}:{errors:a}}function s(e,t){const n=y(v(e,t.type())),a=t.validateBeforeMapXml(e,n);return 0===a.length?{errors:!1,result:t.mapXml(e,n)}:{errors:a}}function d(e,t){const n=y(v(e,t.type())),a=t.validateBeforeUnmap(e,n);return 0===a.length?{errors:!1,result:t.unmapXml(e,n)}:{errors:a}}function v(e,t){return{value:e,type:t,branch:[e],path:[]}}function y(e){const t=(t,n,a)=>y({value:n,type:a.type(),branch:[...e.branch,n],path:[...e.path,t]}),n=(e,n,a)=>e.map((e=>a(e,t(e[0],e[1],n))));return Object.assign(Object.assign({},e),{createChild:t,flatmapChildren:(...e)=>function(e){const t=[];for(const n of e)for(const e of n)t.push(e);return t}(n(...e)),mapChildren:n,fail:t=>[Object.assign(Object.assign({},e),{message:h(e,t)})]})}function h(e,t){const n=JSON.stringify(e.value,((e,t)=>"bigint"==typeof t?t.toString():t));if(t=(null!=t?t:`Expected value to be of type '${e.type}' but found '${typeof e.value}'.`)+"\n"+`\nGiven value: ${n}`+`\nType: '${typeof e.value}'`+`\nExpected type: '${e.type}'`,e.path.length>0){t+=`\nPath: ${e.path.map((e=>m(e.toString()))).join(" â€º ")}`}return t}function b(e,t,n){return t&&n?function(e,t,n){return{type:()=>`OneOf<${e.map((e=>e.type())).join(" | ")}>`,validateBeforeMap:(a,r)=>{const o=a&&"object"==typeof a&&a[n];return o&&t[o]?t[o].validateBeforeMap(a,r):X(e,a,r)},validateBeforeUnmap:(a,r)=>{const o=a&&"object"==typeof a&&a[n];return o&&t[o]?t[o].validateBeforeUnmap(a,r):B(e,a,r)},map:(a,r)=>{const o=a&&a[n];return o&&t[o]?t[o].map(a,r):O(e,a,r)},unmap:(a,r)=>{const o=a&&a[n];return o&&t[o]?t[o].unmap(a,r):M(e,a,r)},validateBeforeMapXml:(a,r)=>{const o=a&&"object"==typeof a&&a[n];return o&&t[o]?t[o].validateBeforeMapXml(a,r):j(e,a,r)},mapXml:(a,r)=>{const o=a&&a[n];return o&&t[o]?t[o].mapXml(a,r):$(e,a,r)},unmapXml:(a,r)=>{const o=a&&a[n];return o&&t[o]?t[o].unmapXml(a,r):x(e,a,r)}}}(e,t,n):function(e){return{type:()=>`OneOf<${e.map((e=>e.type())).join(" | ")}>`,validateBeforeMap:(t,n)=>X(e,t,n),validateBeforeUnmap:(t,n)=>B(e,t,n),map:(t,n)=>O(e,t,n),unmap:(t,n)=>M(e,t,n),validateBeforeMapXml:(t,n)=>j(e,t,n),mapXml:(t,n)=>$(e,t,n),unmapXml:(t,n)=>x(e,t,n)}}(e)}function X(e,t,n){const a=[];for(const r of e){0===r.validateBeforeMap(t,n).length&&a.push(r)}return g(a,n)}function B(e,t,n){const a=[];for(const r of e){0===r.validateBeforeUnmap(t,n).length&&a.push(r)}return g(a,n)}function j(e,t,n){const a=[];for(const r of e){0===r.validateBeforeMapXml(t,n).length&&a.push(r)}return g(a,n)}function g(e,t){return e.length>0?[]:t.fail("Could not match against any acceptable type.")}function O(e,t,n){const a=[];for(const r of e)0===r.validateBeforeMap(t,n).length&&a.push(r);return a.length>0?a[0].map(t,n):void 0}function M(e,t,n){const a=[];for(const r of e)0===r.validateBeforeUnmap(t,n).length&&a.push(r);return a.length>0?a[0].unmap(t,n):void 0}function $(e,t,n){const a=[];for(const r of e)0===r.validateBeforeMapXml(t,n).length&&a.push(r);return a.length>0?a[0].mapXml(t,n):void 0}function x(e,t,n){const a=[];for(const r of e)0===r.validateBeforeMapXml(t,n).length&&a.push(r);return a.length>0?a[0].unmapXml(t,n):void 0}function U(t,n){let a;return a={type:()=>`Array<${t.type()}>`,validateBeforeMap:(n,a)=>Array.isArray(n)?a.flatmapChildren(e(n),t,((e,n)=>t.validateBeforeMap(e[1],n))):a.fail(),validateBeforeUnmap:(n,a)=>Array.isArray(n)?a.flatmapChildren(e(n),t,((e,n)=>t.validateBeforeUnmap(e[1],n))):a.fail(),map:(n,a)=>a.mapChildren(e(n),t,((e,n)=>t.map(e[1],n))),unmap:(n,a)=>a.mapChildren(e(n),t,((e,n)=>t.unmap(e[1],n))),mapXml:(a,r)=>{let o=a;return(null==n?void 0:n.xmlItemName)&&(o=a[n.xmlItemName],r=r.createChild(n.xmlItemName,o,t)),r.mapChildren(e(o),t,((e,n)=>t.mapXml(e[1],n)))},unmapXml:(a,r)=>{const o=r.mapChildren(e(a),t,((e,n)=>t.unmapXml(e[1],n)));return(null==n?void 0:n.xmlItemName)?{[n.xmlItemName]:o}:o},validateBeforeMapXml:(a,r)=>{let o=a;if(null==n?void 0:n.xmlItemName){const e=`Expected array to be wrapped with XML element ${n.xmlItemName}.`;if("object"!=typeof a||null===a||!(n.xmlItemName in a))return r.fail(e);o=a[n.xmlItemName],r=r.createChild(n.xmlItemName,o,t)}return Array.isArray(o)?r.flatmapChildren(e(o),t,((e,n)=>t.validateBeforeMapXml(e[1],n))):r.fail()}},a}function S(e){return"bigint"==typeof e||"number"==typeof e||"string"==typeof e&&/^-?\d+$/.test(e)}function w(){return o({type:"bigint",validate:r(S),map:i})}function N(e){return"boolean"==typeof e||"string"==typeof e&&("true"===e||"false"===e)}function P(){return o({type:"boolean",validate:r(N),map:e=>"boolean"==typeof e?e:"true"===e})}function A(e,t){return{type:()=>`Defaults<${e.type()},${n(t)}>`,validateBeforeMap:(n,a)=>C(n,t)?[]:e.validateBeforeMap(n,a),validateBeforeUnmap:(n,a)=>C(n,t)?[]:e.validateBeforeUnmap(n,a),map:(n,a)=>C(n,t)?t:e.map(n,a),unmap:(n,a)=>C(n,t)?t:e.unmap(n,a),validateBeforeMapXml:(n,a)=>C(n,t)?[]:e.validateBeforeMapXml(n,a),mapXml:(n,a)=>C(n,t)?t:e.mapXml(n,a),unmapXml:(n,a)=>C(n,t)?t:e.unmapXml(n,a)}}function C(e,t){return null==e||e===t}function T(e){const n=(n,a,r)=>{if("object"!=typeof a||null===a)return r.fail();const o=a;return r.flatmapChildren(t(o),e,((t,a)=>e[n](t[1],a)))};return{type:()=>`Record<string,${e.type()}>`,validateBeforeMap:(...e)=>n("validateBeforeMap",...e),validateBeforeUnmap:(...e)=>n("validateBeforeUnmap",...e),map:(t,n)=>{const a={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];a[r]=e.map(o,n.createChild(r,o,e))}return a},unmap:(t,n)=>{const a={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];a[r]=e.unmap(o,n.createChild(r,o,e))}return a},validateBeforeMapXml:(...e)=>n("validateBeforeMapXml",...e),mapXml:(t,n)=>{const a={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];a[r]=e.mapXml(o,n.createChild(r,o,e))}return a},unmapXml:(t,n)=>{const a={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const o=t[r];a[r]=e.unmapXml(o,n.createChild(r,o,e))}return a}}}function k(e){const n=T(e),a=Object.assign({},n);return a.unmapXml=(e,a)=>({entry:t(n.unmapXml(e,a)).map((([e,t])=>({$:{key:e},_:t})))}),a.mapXml=(e,t)=>{if(!("entry"in e))return{};let{entry:a}=e;Array.isArray(a)||(a=[a]);const r={};for(const e of a)r[e.$.key]=e._;return n.mapXml(r,t)},a.validateBeforeMapXml=(e,t)=>{if("object"!=typeof e||null===e)return t.fail();if(!("entry"in e))return[];let a=e.entry;Array.isArray(a)||(a=[a]);const r={};for(const e of a){if("object"!=typeof e||null===e)return t.fail('Expected "entry" to be an XML element.');if(!("$"in e)||!("key"in e.$))return t.fail('Expected "entry" element to have an attribute named "key".');const n=e;r[n.$.key]=n._}return n.validateBeforeMapXml(r,t)},a}function I(e,n,a,r,o){const l=(e,t,n=!1)=>{if("object"==typeof e&&null!==e&&(n&&function(e,t){return"$"in e&&"object"==typeof e.$&&t in e.$}(e,t)||!n&&t in e)){const r=n?e.$[t]:e[t];if("string"==typeof r&&r in a)return a[r]}return a[r]};return{type:()=>`DiscriminatedUnion<${n},[${t(a).map((([e,t])=>t.type)).join(",")}]>`,map:(e,t)=>l(e,n).map(e,t),unmap:(t,n)=>l(t,e).unmap(t,n),validateBeforeMap:(e,t)=>l(e,n).validateBeforeMap(e,t),validateBeforeUnmap:(t,n)=>l(t,e).validateBeforeUnmap(t,n),mapXml:(e,t)=>{var a;return l(e,null!==(a=null==o?void 0:o.xmlName)&&void 0!==a?a:n,null==o?void 0:o.isAttr).mapXml(e,t)},unmapXml:(t,n)=>l(t,e).unmapXml(t,n),validateBeforeMapXml:(e,t)=>{var a;return l(e,null!==(a=null==o?void 0:o.xmlName)&&void 0!==a?a:n,null==o?void 0:o.isAttr).validateBeforeMapXml(e,t)}}}function E(e){const t=function(e){let t,n=!1;return function(...a){return n||(n=!0,t=e.apply(this,a)),t}}(e);return{type:()=>`Lazy<${t().type()}>`,map:(...e)=>t().map(...e),unmap:(...e)=>t().unmap(...e),validateBeforeMap:(...e)=>t().validateBeforeMap(...e),validateBeforeUnmap:(...e)=>t().validateBeforeUnmap(...e),mapXml:(...e)=>t().mapXml(...e),unmapXml:(...e)=>t().unmapXml(...e),validateBeforeMapXml:(...e)=>t().validateBeforeMapXml(...e)}}function L(e){return o({type:`Literal<${n(e)}>`,validate:r((t=>e===t)),map:()=>e})}function _(e){return{type:()=>`Nullable<${e.type()}>`,validateBeforeMap:(t,n)=>null===t?[]:e.validateBeforeMap(t,n),validateBeforeUnmap:(t,n)=>null===t?[]:e.validateBeforeUnmap(t,n),map:(t,n)=>null===t?null:e.map(t,n),unmap:(t,n)=>null===t?null:e.unmap(t,n),validateBeforeMapXml:(t,n)=>null===t?[]:e.validateBeforeMapXml(t,n),mapXml:(t,n)=>null===t?null:e.mapXml(t,n),unmapXml:(t,n)=>null===t?null:e.unmapXml(t,n)}}function D(){return o({type:"number",validate:r(l),map:p})}function z(e){const t=r(function(e){const t=Object.values(e);return e=>l(e)&&t.includes(p(e))}(e));return o({type:`Enum<${Object.values(e).filter((e=>"number"==typeof e)).join(",")}>`,map:p,validate:t})}function G(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}function J(e){const t=Q(e,!1,!1);return t.type=()=>`StrictObject<{${Object.keys(e).map(m).join(",")}}>`,t}function R(e){return Q(e,!0,!0)}function q(e){const t=Q(e,!0,!1);return t.type=()=>`Object<{${Object.keys(e).map(m).join(",")}}>`,t}function F(e,t){return J(Object.assign(Object.assign({},e.objectSchema),t))}function H(e,t){return R(Object.assign(Object.assign({},e.objectSchema),t))}function K(e,t){return q(Object.assign(Object.assign({},e.objectSchema),t))}function Q(e,t,n){const a=Object.keys(e),r=ne(e),o=function(e){var t,n;const a={},r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const[l,,p]=e[o];!0===(null==p?void 0:p.isAttr)?r[null!==(t=p.xmlName)&&void 0!==t?t:l]=o:a[null!==(n=null==p?void 0:p.xmlName)&&void 0!==n?n:l]=o}return{elementsToProps:a,attributesToProps:r}}(e),l=function(e){var t;const n={},a={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r],[l,p,i]=o;((null==i?void 0:i.isAttr)?a:n)[r]=[null!==(t=null==i?void 0:i.xmlName)&&void 0!==t?t:l,p,i]}return{elementsSchema:n,attributesSchema:a}}(e),p=function(e){return{attributesSchema:ne(e.attributesSchema),elementsSchema:ne(e.elementsSchema)}}(l);return{type:()=>`Object<{${a.map(m).join(",")},...}>`,validateBeforeMap:ee(e,"validateBeforeMap",t),validateBeforeUnmap:ee(r,"validateBeforeUnmap",t),map:te(e,"map",n),unmap:te(r,"unmap",n),validateBeforeMapXml:V(e,o,t),mapXml:W(l,n),unmapXml:Y(p,n),objectSchema:e}}function V(e,t,n){const{elementsToProps:a,attributesToProps:r}=t;return(t,o)=>{if("object"!=typeof t||null===t)return o.fail();const l=t,{$:p}=l,i=G(l,["$"]),u=null!=p?p:{};return[...Z({validationMethod:"validateBeforeMapXml",propTypeName:"child elements",propTypePrefix:"element",valueTypeName:"element",propMapping:a,objectSchema:e,valueObject:i,ctxt:o,allowAdditionalProperties:n}),...Z({validationMethod:"validateBeforeMapXml",propTypeName:"attributes",propTypePrefix:"@",valueTypeName:"element",propMapping:r,objectSchema:e,valueObject:u,ctxt:o,allowAdditionalProperties:n})]}}function W(e,n){const{elementsSchema:a,attributesSchema:r}=e,o=te(a,"mapXml",n),l=te(r,"mapXml",!1),p=t(r).map((([e,[t]])=>t));return(e,t)=>{const a=e,{$:r}=a,i=G(a,["$"]),m=null!=r?r:{},c=Object.assign(Object.assign({},l(m,t)),o(i,t));if(n){const e=u(m,p);Object.keys(e).length>0&&(c.$=e)}return c}}function Y(e,n){const{elementsSchema:a,attributesSchema:r}=e,o=te(a,"unmapXml",n),l=te(r,"unmapXml",!1),p=t(r).map((([e,[t]])=>t));return(e,t)=>{const a=e,{$:r}=a,i=G(a,["$"]),m="object"==typeof r&&null!==r&&n?r:{};return Object.assign(Object.assign({},o(u(i,p),t)),{$:Object.assign(Object.assign({},m),l(e,t))})}}function Z({validationMethod:e,propTypeName:t,propTypePrefix:a,valueTypeName:r,propMapping:o,objectSchema:l,valueObject:p,ctxt:i,allowAdditionalProperties:u}){const m=[],c=new Set,f=new Set(Object.keys(p));for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)){const n=l[o[t]][1];f.delete(t),t in p?m.push(...n[e](p[t],i.createChild(a+t,p[t],n))):0!==n.type().indexOf("Optional<")&&c.add(t)}const s=Array.from(f);s.length>0&&!u&&m.push(...i.fail(`Some unknown ${t} were found in the ${r}: ${s.map(n).join(", ")}.`));const d=Array.from(c);return d.length>0&&m.push(...i.fail(`Some ${t} are missing in the ${r}: ${d.map(n).join(", ")}.`)),m}function ee(e,t,n){const a=function(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){t[e[n][0]]=n}return t}(e);return(r,o)=>"object"!=typeof r||null===r?o.fail():Z({validationMethod:t,propTypeName:"properties",propTypePrefix:"",valueTypeName:"object",propMapping:a,objectSchema:e,valueObject:r,ctxt:o,allowAdditionalProperties:n})}function te(e,t,n){return(a,r)=>{const o={},l=a,p=new Set(Object.keys(l));for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=e[n],i=a[0],u=l[i];p.delete(i),0===a[1].type().indexOf("Optional<")&&void 0===u||(o[n]=a[1][t](u,r.createChild(i,u,a[1])))}return n&&p.forEach((e=>{o[e]=l[e]})),o}}function ne(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=e[n];t[a[0]]=[n,a[1],a[2]]}return t}function ae(e,t,n){return t&&n?function(e,t,n){return{type:()=>`OneOf<${e.map((e=>e.type())).join(" | ")}>`,validateBeforeMap:(a,r)=>{const o=a&&"object"==typeof a&&a[n];return o&&t[o]?t[o].validateBeforeMap(a,r):re(e,a,r)},validateBeforeUnmap:(a,r)=>{const o=a&&"object"==typeof a&&a[n];return o&&t[o]?t[o].validateBeforeUnmap(a,r):oe(e,a,r)},map:(a,r)=>{const o=a&&a[n];return o&&t[o]?t[o].map(a,r):ie(e,a,r)},unmap:(a,r)=>{const o=a&&a[n];return o&&t[o]?t[o].unmap(a,r):ue(e,a,r)},validateBeforeMapXml:(a,r)=>{const o=a&&"object"==typeof a&&a[n];return o&&t[o]?t[o].validateBeforeMapXml(a,r):le(e,a,r)},mapXml:(a,r)=>{const o=a&&a[n];return o&&t[o]?t[o].mapXml(a,r):me(e,a,r)},unmapXml:(a,r)=>{const o=a&&a[n];return o&&t[o]?t[o].unmapXml(a,r):ce(e,a,r)}}}(e,t,n):function(e){return{type:()=>`OneOf<${e.map((e=>e.type())).join(" | ")}>`,validateBeforeMap:(t,n)=>re(e,t,n),validateBeforeUnmap:(t,n)=>oe(e,t,n),map:(t,n)=>ie(e,t,n),unmap:(t,n)=>ue(e,t,n),validateBeforeMapXml:(t,n)=>le(e,t,n),mapXml:(t,n)=>me(e,t,n),unmapXml:(t,n)=>ce(e,t,n)}}(e)}function re(e,t,n){const a=[];for(const r of e){0===r.validateBeforeMap(t,n).length&&a.push(r)}return pe(a,n)}function oe(e,t,n){const a=[];for(const r of e){0===r.validateBeforeUnmap(t,n).length&&a.push(r)}return pe(a,n)}function le(e,t,n){const a=[];for(const r of e){0===r.validateBeforeMapXml(t,n).length&&a.push(r)}return pe(a,n)}function pe(e,t){return 1===e.length?[]:0===e.length?t.fail("Could not match against any acceptable type."):t.fail(`Matched more than one type. Matched types include: ${e.map((e=>e.type())).join(", ")}`)}function ie(e,t,n){const a=[];for(const r of e)0===r.validateBeforeMap(t,n).length&&a.push(r);return 1===a.length?a[0].map(t,n):void 0}function ue(e,t,n){const a=[];for(const r of e)0===r.validateBeforeUnmap(t,n).length&&a.push(r);return 1===a.length?a[0].unmap(t,n):void 0}function me(e,t,n){const a=[];for(const r of e)0===r.validateBeforeMapXml(t,n).length&&a.push(r);return 1===a.length?a[0].mapXml(t,n):void 0}function ce(e,t,n){const a=[];for(const r of e)0===r.validateBeforeMapXml(t,n).length&&a.push(r);return 1===a.length?a[0].unmapXml(t,n):void 0}function fe(e){return{type:()=>`Optional<${e.type()}>`,validateBeforeMap:(t,n)=>void 0===t?[]:e.validateBeforeMap(t,n),validateBeforeUnmap:(t,n)=>void 0===t?[]:e.validateBeforeUnmap(t,n),map:(t,n)=>void 0===t?void 0:e.map(t,n),unmap:(t,n)=>void 0===t?void 0:e.unmap(t,n),validateBeforeMapXml:(t,n)=>void 0===t?[]:e.validateBeforeMapXml(t,n),mapXml:(t,n)=>void 0===t?void 0:e.mapXml(t,n),unmapXml:(t,n)=>void 0===t?void 0:e.unmapXml(t,n)}}function se(e){return"string"==typeof e}function de(){return o({type:"string",validate:r(se),map:a})}function ve(e){const t=r(function(e){const t=Object.values(e);return e=>"string"==typeof e&&t.includes(e)}(e));return o({type:`Enum<${Object.values(e).map(n).join(",")}>`,map:a,validate:t})}function ye(){return o({type:"unknown",validate:()=>[],map:a})}export{b as anyOf,U as array,w as bigint,P as boolean,A as defaults,T as dict,k as dictWithXmlEntries,I as discriminatedObject,R as expandoObject,H as extendExpandoObject,K as extendObject,F as extendStrictObject,E as lazy,L as literal,_ as nullable,D as number,z as numberEnum,q as object,ae as oneOf,fe as optional,J as strictObject,de as string,ve as stringEnum,ye as unknown,c as validateAndMap,s as validateAndMapXml,f as validateAndUnmap,d as validateAndUnmapXml};
